{"version":3,"sources":["meteor://ðŸ’»app/packages/ogourment_settings/packages/ogourment_settings.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G","file":"/packages/ogourment_settings.js","sourcesContent":["(function () {\n\n/////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                             //\n// packages/ogourment:settings/settings.js                                                     //\n//                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                               //\n                                                                                               // 1\nMeteorSettings = { REQUIRED: 1, REQUIRED_IN_PROD: 2 };                                         // 2\n                                                                                               // 3\n_.extend( MeteorSettings, {                                                                    // 4\n                                                                                               // 5\n  setDefaults: function (defaultsMap, options) {                                               // 6\n                                                                                               // 7\n     var settingsRequired =                                                                    // 8\n      (options === MeteorSettings.REQUIRED);                                                   // 9\n                                                                                               // 10\n     if (Meteor.isServer) {                                                                    // 11\n                                                                                               // 12\n       settingsRequired |=                                                                     // 13\n        (process.env.NODE_ENV === \"production\" &&                                              // 14\n          options === MeteorSettings.REQUIRED_IN_PROD);                                        // 15\n     }                                                                                         // 16\n                                                                                               // 17\n     if (settingsRequired) {                                                                   // 18\n                                                                                               // 19\n      if (! Meteor.settings /* undefined on client */ ||                                       // 20\n          _.size(Meteor.settings) === 0 /* empty on server */ ) {                              // 21\n                                                                                               // 22\n        throw new Error(\"--settings or METEOR_SETTINGS required.\");                            // 23\n        // Note: it might also be the case that `settings.json` is empty... but it's unlikely. // 24\n      }                                                                                        // 25\n    }                                                                                          // 26\n                                                                                               // 27\n    Meteor.settings = Meteor.settings || {};                                                   // 28\n    Meteor.settings.public = Meteor.settings.public || {};                                     // 29\n                                                                                               // 30\n    _deepDefaults(Meteor.settings, defaultsMap);                                               // 31\n  }                                                                                            // 32\n});                                                                                            // 33\n                                                                                               // 34\nvar _nodes;                                                                                    // 35\n                                                                                               // 36\nvar _deepDefaults = function (settings, map) {                                                 // 37\n  _nodes = [];                                                                                 // 38\n  return __deepDefaults(settings, map);                                                        // 39\n};                                                                                             // 40\n                                                                                               // 41\nvar __deepDefaults = function (settings, node) {                                               // 42\n                                                                                               // 43\n  _.each(node, function (node, key) {                                                          // 44\n                                                                                               // 45\n    // deep defaults                                                                           // 46\n    var isArray = (node.constructor === Array);                                                // 47\n    if ((node instanceof Object) &&                                                            // 48\n      ! (node instanceof Date || isArray)) {                                                   // 49\n                                                                                               // 50\n      // watch for circular reference                                                          // 51\n      if (_.indexOf(_nodes, node) >= 0) {                                                      // 52\n        throw new Error(\"Circular reference found at: \" + key + \":\" + node);                   // 53\n      }                                                                                        // 54\n      _nodes.push(node);                                                                       // 55\n                                                                                               // 56\n      settings[key] = settings[key] || {};                                                     // 57\n                                                                                               // 58\n      __deepDefaults(settings[key], node);                                                     // 59\n    }                                                                                          // 60\n    else {                                                                                     // 61\n      // if the value at key is undefined use the default node passed in                       // 62\n      if (_.isUndefined(settings[key]))                                                        // 63\n        settings[key] = node;                                                                  // 64\n      else                                                                                     // 65\n        settings[key] = settings[key];                                                         // 66\n    }                                                                                          // 67\n  });                                                                                          // 68\n};                                                                                             // 69\n                                                                                               // 70\n/////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}